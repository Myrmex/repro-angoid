<h2>Authentication Test</h2>
<form *ngIf="!user" [formGroup]="loginForm" (ngSubmit)="login(loginForm.value)" role="form">
    <div class="form-group">
        <input type="text" id="name"
                maxlength="100" required spellcheck="false"
                class="form-control"
                placeholder="Username"
                formControlName="name">
          <div *ngIf="name.hasError('required') && name.dirty"
              class="text-danger small">enter a user name</div>
    </div>
    <div class="form-group">
        <input type="password" id="password"
                required spellcheck="false"
                class="form-control"
                placeholder="Password"
                formControlName="password">
          <div *ngIf="password.hasError('required') && password.dirty"
              class="text-danger small">enter a password</div>
      <br>
      <button type="submit"
              [disabled]="!loginForm.valid"
              class="btn btn-primary btn-sm">Login</button>
    </div>
</form>

<div *ngIf="user">
  <button (click)="testApi()">Get protected resource</button>
  <div>{{data}}</div>
  <br>
  <div>{{user.name}}</div>
  <button (click)="logout()">Logout</button>
</div>
